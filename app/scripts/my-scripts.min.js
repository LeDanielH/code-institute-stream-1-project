angular.module("bandApp",["ngRoute","myBandAppControllers","myBandAppFilters","myBandAppDirectives","myBandAppServices"]).config(["$routeProvider","$locationProvider",function(e){e.when("/home",{templateUrl:"templates/home.html",controller:"HomeController"}).when("/gigs",{templateUrl:"templates/gigs.html",controller:"GigsController"}).when("/store",{templateUrl:"templates/store.html",controller:"StoreController"}).when("/store-items/:itemId",{templateUrl:"templates/store-item-detail.html",controller:"StoreItemDetailController"}).otherwise({redirectTo:"/home"})}]),function(){"use strict";angular.module("myBandAppControllers",["myBandAppServices"]).controller("IndexController",["$scope","$location","GigsDataService","StoreDataService","TestimonialsDataService","SocialLinksDataService","CallToActionDataService",function(e,t,r,o,n,s,a){e.subtitles=r.subtitles,e.maps=r.maps.query(),e.storeItems=o.storeItems.query(),e.sortByCategory=o.sortByCategory,e.sortByCategories=o.sortByCategories,e.images=n.images.query(),e.socialLinkstitle=s.title,e.socialIcons=s.socialIcons.query(),e.go=a.go,e.callToActionBoxes=a.callToActionBoxes.query()}])}(),function(){"use strict";angular.module("myBandAppControllers").controller("GigsController",["$scope","GigsDataService","GuestsDataService",function(e,t,r){e.title="GIGS",e.subtitles=t.subtitles,e.maps=t.maps.query(),e.guests=r.guests,e.ticketPrice=r.ticketPrice,e.addGuest=function(){e.guestsName&&""!==e.guestsName&&e.guests.push({guestsName:e.guestsName})}}])}(),function(){"use strict";angular.module("myBandAppControllers").controller("HomeController",["$scope","BlogPostsDataService",function(e,t){e.title=t.title,e.blogPosts=t.blogPosts.query(),e.upVote=t.upVote}])}(),function(){"use strict";angular.module("myBandAppControllers").controller("StoreItemDetailController",["$scope","$routeParams",function(e,t){e.item=StoreDataService.get({itemId:t.itemId},function(t){e.mainImageUrl=t.images[0]}),e.setMainImage=function(t){e.mainImageUrl=t}}])}(),function(){"use strict";angular.module("myBandAppControllers").controller("StoreController",["$scope","StoreDataService",function(e,t){e.storeItemsList=t.storeItems.query(),e.sortByCategory=t.sortByCategory}])}(),function(){"use strict";angular.module("myBandAppServices",["ngResource"]).factory("BlogPostsDataService",["$resource",function(e){var t={title:"News",blogPosts:e("data/json/:itemId.json",{},{query:{method:"GET",params:{itemId:"blog-posts"},isArray:!0}}),upVote:function(e){e.upVotes+=1}};return t}])}(),function(){"use strict";angular.module("myBandAppServices",["ngResource"]).factory("CallToActionDataService",["$resource",function(e){var t={go:function(e){$location.path(e)},callToActionBoxes:e("data/json/:itemId.json",{},{query:{method:"GET",params:{itemId:"calls-to-action"},isArray:!0}})};return t}])}(),function(){"use strict";angular.module("myBandAppServices",["ngResource"]).factory("GigsDataService",["$rootScope","$resource",function(e,t){var r={subtitles:["where","when"],maps:t("data/json/:itemId.json",{},{query:{method:"GET",params:{itemId:"gigs"},isArray:!0}})};return r}])}(),function(){"use strict";angular.module("myBandAppServices",["ngResource"]).factory("GuestsDataService",[function(){var e={guests:[{}],ticketPrice:20};return e}])}(),function(){"use strict";angular.module("myBandAppServices",["ngResource"]).factory("SocialLinksDataService",["$resource",function(e){var t={title:"follow us!",socialIcons:e("data/json/:itemId.json",{},{query:{method:"GET",params:{itemId:"social-links"},isArray:!0}})};return t}])}(),function(){"use strict";angular.module("myBandAppServices",["ngResource"]).factory("StoreDataService",["$resource",function(e){var t={storeItems:e("data/json/store-items/:itemId.json",{},{query:{method:"GET",params:{itemId:"store-items"},isArray:!0}}),sortByCategories:["popular","best selling","price"],sortByCategory:"price"};return t}])}(),function(){"use strict";angular.module("myBandAppServices",["ngResource"]).factory("TestimonialsDataService",["$resource",function(e){var t={images:e("data/json/:itemId.json",{},{query:{method:"GET",params:{itemId:"testimonials"},isArray:!0}})};return t}])}(),function(){"use strict";angular.module("myBandAppDirectives",[]).directive("makeMap",function(){var e={restrict:"EA",templateUrl:"templates/directives/maps.html",scope:{map:"="},link:function(e,t,r){console.log("in map directive link")},controller:["$scope",function(e){e.$watch("map",function(){console.log("map directive controller watching map change",e.map)}),e.zoomIn=function(){e.map.zoom++},e.zoomOut=function(){e.map.zoom--},e.mapDimensions=function(){if(e.map.width)t=e.map.width;else var t=200;if(e.map.height)r=e.map.height;else var r=200;return t+"x"+r},e.returnAddressOrNot=function(){return console.log("address: "+e.map.address),e.map.address?!0:!1},e.mapAddress=function(){var t=e.map.address[0].street,r=e.map.address[0].city,o=e.map.address[0].country;return t+", "+r+", "+o}}]};return e})}(),function(){"use strict";angular.module("myBandAppDirectives",[]).directive("photoSlider",["$timeout",function(e){return{restrict:"AE",replace:!0,templateUrl:"templates/directives/photo-slider.html",scope:{images:"="},link:function(t,r,o){t.currentIndex=0,t.next=function(){t.currentIndex<t.images.length-1?t.currentIndex++:t.currentIndex=0},t.prev=function(){t.currentIndex>0?t.currentIndex--:t.currentIndex=t.images.length-1},t.$watch("currentIndex",function(){t.images.forEach(function(e){e.visible=!1}),t.images[t.currentIndex].visible=!0});var n,s=function(){n=e(function(){t.next(),n=e(s,5e3)},5e3)};s(),t.$on("$destroy",function(){e.cancel(n)})}}}])}(),function(){"use strict";angular.module("myBandAppFilters",[]).filter("StockFilter",function(){var e="✓",t="✘";return function(r){return r>0?e:t}})}();